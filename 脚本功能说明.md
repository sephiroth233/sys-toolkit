# sys-toolkit 脚本功能说明

本文档提供 sys-toolkit 项目中各脚本的简要功能和操作说明。

## 目录
- [Linux Shell 脚本](#linux-shell-脚本)
  - [server-proxy.sh](#server-proxysh)
  - [mihomo-install.sh](#mihomo-installsh)
  - [wsl-docker-setup.sh](#wsl-docker-setupsh)
- [Windows 批处理脚本](#windows-批处理脚本)
  - [blash.cmd](#blashcmd)
  - [jdk.cmd](#jdkcmd)
  - [navicat-reset.cmd](#navicat-resetcmd)

---

## Linux Shell 脚本

### server-proxy.sh

**功能概述：**
Sing-box 代理服务安装和管理脚本，支持多种代理协议和 Snell 代理服务。

**主要功能：**
1. **Sing-box 服务管理**
   - 安装/卸载 sing-box 服务
   - 启动/停止/重启 sing-box 服务
   - 查看服务状态和日志

2. **节点配置管理**
   - 生成多种协议节点配置（Hysteria2、VLESS+Vision+Reality、Shadowsocks+ShadowTLS、AnyTLS）
   - 查看已生成的节点配置
   - 删除节点配置

3. **中转配置管理**
   - 添加中转配置（端口转发）
   - 查看中转配置列表
   - 删除中转配置

4. **Snell 代理管理**
   - 安装/卸载 Snell 服务
   - 启动/停止/重启 Snell 服务
   - 生成/查看/删除 Snell 配置

5. **系统优化**
   - 启用/关闭 TCP BBR 拥塞控制算法

**使用方式：**
```bash
sudo ./server-proxy.sh
```

**权限要求：** 需要 root 权限执行

---

### mihomo-install.sh

**功能概述：**
Mihomo（原 Clash.Meta）安装和更新脚本。

**主要功能：**
1. **安装 Mihomo**
   - 从 GitHub 下载最新版本
   - 自动检测系统架构（amd64/aarch64）
   - 安装到 `/usr/local/bin/mihomo`

2. **更新 Mihomo**
   - 检查当前版本
   - 下载并更新到最新版本

3. **版本管理**
   - 查看当前安装版本
   - 查看最新可用版本

**使用方式：**
```bash
# 安装 Mihomo
./mihomo-install.sh install

# 更新到最新版本
./mihomo-install.sh update

# 查看版本信息
./mihomo-install.sh version
```

**权限要求：** 需要 `/usr/local/bin` 的写权限（通常需要 sudo）

---

### wsl-docker-setup.sh

**功能概述：**
WSL Ubuntu + Docker 一键配置脚本。

**主要功能：**
1. **系统更新**
   - 更新系统包
   - 安装必要工具（curl, wget）

2. **权限配置**
   - 配置免密码 sudo

3. **Docker 安装**
   - 安装 Docker 引擎
   - 安装 Docker Compose

4. **用户组配置**
   - 将当前用户添加到 docker 组
   - 配置 Docker 自启动

**使用方式：**
```bash
./wsl-docker-setup.sh
```

**适用环境：** WSL Ubuntu

---

## Windows 批处理脚本

### blash.cmd

**功能概述：**
Clash 网络代理控制器，支持代理模式切换和订阅管理。

**主要功能：**
1. **代理模式切换**
   - 全局模式
   - 规则模式
   - 直连模式

2. **订阅管理**
   - 下载远程配置文件
   - 验证配置文件

3. **快捷方式创建**
   - 创建桌面快捷方式

4. **系统集成**
   - 检查并更新 wintun.dll

**使用方式：**
```cmd
blash.cmd
```

**特点：**
- 支持彩色输出
- 支持 UTF-8 编码
- 可配置选项丰富

---

### jdk.cmd

**功能概述：**
JDK 环境变量自动配置工具。

**主要功能：**
1. **环境变量配置**
   - 设置 JAVA_HOME
   - 设置 CLASSPATH
   - 更新 Path 变量（添加 JDK bin 目录）

2. **路径验证**
   - 检查输入的 JDK 路径是否存在
   - 提供重试机制

**使用方式：**
```cmd
jdk.cmd
```

**使用流程：**
1. 运行脚本
2. 输入 JDK 安装路径（如：`C:\Program Files\Java\jdk1.8.0_221`）
3. 脚本自动配置环境变量

---

### navicat-reset.cmd

**功能概述：**
Navicat Premium 试用期重置工具。

**主要功能：**
1. **注册表清理**
   - 删除 Navicat Premium 的注册表项
   - 清理更新和注册信息
   - 删除 CLSID 中的相关项

2. **定时任务创建**
   - 创建每日运行的定时任务
   - 自动执行清理操作

**使用方式：**
```cmd
navicat-reset.cmd
```

**注意事项：**
- 需要管理员权限
- 会删除 Navicat 的注册表信息
- 创建每日定时任务自动清理

---

## 通用说明

### 权限要求
- **Linux 脚本**：通常需要 root 权限（使用 `sudo`）
- **Windows 脚本**：部分脚本需要管理员权限

### 安全提示
1. 运行脚本前请了解其具体操作
2. 建议在测试环境中先验证
3. 部分脚本会修改系统配置和环境变量

### 网络要求
- 安装脚本需要访问 GitHub API 下载最新版本
- 代理相关脚本需要网络连接

### 兼容性
- **Windows 脚本**：适用于 Windows 7/10/11
- **Linux 脚本**：主要针对 Ubuntu/Debian/CentOS

---

**最后更新：** 2025-12-15